<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.wonjoejo.myapp.mapper.PersonalBoxMapper">

    <!-- SELECT/INSERT/UPDATE/DELETE  각각의 SQL 문장을 저장하는 태그가 이미 준비되어 있다 (DTD에)-->

    <!-- 게시판 목록 조회 -->
    
    <!-- 비교 연산자(***, >, <)를 사용하는 SQL 문장 (DQL, DML) -->
        <!-- /*+ index_asc(tbl_board pk_board) */ *
            /*+ index desc(tbl_board pk_board) */* -->

    <select id="getList" resultType="com.wonjoejo.myapp.domain.PersonalBoxVO">
        
        <![CDATA[ 
            
            SELECT 
            /*+ index_desc(PERSONAL_BOX) */ * 
            FROM PERSONAL_BOX
            WHERE PRODUCT_NO > 0
        
        ]]>
    </select>

<!--     <insert id="insert">
        INSERT INTO tbl_board (title, content, writer)
        VALUES ( #{title}, #{content}, #{writer} )
    </insert>

    <select id="read" resultType="org.zerock.myapp.domain.BoardVO">

        SELECT * FROM TBL_BOARD WHERE bno = #{bno}

    </select>

    <update id="update">
    
    	UPDATE TBL_BOARD SET 
    	title = #{title},
    	content = #{content},
    	writer = #{writer},
    	update_ts = sysdate
    	WHERE bno = #{bno}
  
    </update>

    <insert id="insertSelectKey">

        <selectKey keyProperty="bno" order="BEFORE" resultType="int">
            SELECT ADMIN.ISEQ$$_59889.nextval FROM dual
    	</selectKey>
        INSERT INTO TBL_BOARD (title, content, writer)
    		VALUES (#{title}, #{content}, #{writer})
    </insert>

    <delete id="delete">
        DELETE FROM TBL_BOARD WHERE bno=#{bno}
    </delete> -->

</mapper>